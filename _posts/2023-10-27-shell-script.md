---
layout: single
title: "UNIX/Linux 시스템 관리자를 위한 쉘 스크립트 활용 가이드 - 요약"
categories: script
tags: [unix, linux, shell]
toc: true             # Heading을 이용하여 자동으로 목차가 생성됨
---

# UNIX/Linux 기본 명령어와 개념

## 입출력 재지정 (Redirection)

| fd (file descriptor) | fd 이름 | 용도 | 표준 장치 |
| -------------------- | ------- | ---- | -------- |
| 0 | stdin (표준 입력) | 명령어에 입력할 내용을 저장 | 키보드 |
| 1 | stdout (표준 출력) | 명령어에서 출력할 내용을 저장 | 화면 |
| 2 | stderr (표준 오류) | 명령어에서 출력할 오류 메시지를 저장 | 화면 |

* 항상 명령어는 좌측, 파일은 우측에 온다는 것을 명심하자.

* fd 0과 1은 생략이 가능하다.
  - 표준 오류(2)는 반드시 표기해야 함

* 예제: 표준 입력 리디렉션
  - `명령어 < 파일`
  - `명령어 0< 파일`
```
$ cat sample.txt                    # sample.txt 파일의 내용을 보여줌
$ tr '[A-Z]' '[a-z]' < sample.txt   # sample.txt 파일의 대문자를 소문자로 바꾸고 내용을 보여줌
```

* 예제: 표준 출력 리디렉션
  - `명령어 >> 파일` ('>'는 덮어쓰기, '>>'는 이어쓰기)
  - `명령어 1>> 파일`
```
$ date >> day-time  # date 명령어의 결과를 day-time 파일로 기록
$ cat day_time      # day_time 파일 보기
```

* 예제: 여러 가지 유형
```
$ 명령 > 파일a 2> 파일e    # 명령어의 결과를 파일a에 기록하고, 오류 메시지를 파일e에 기록함
$ 명령 1> 파일a 2> 파일e

$ 명령 > 파일 2>&1         # 명령어의 결과와 오류 메시지를 파일에 기록
$ 명령 1> 파일 2>&1
```

## 파이프 (Pipe)

* 문법: `명령어1 | 명령어2 | 명령어3`
  - 파이프는 재지정(Redirection)과 달리 파일 입출력을 하지 않고 메모리 상에서 명령어 처리 결과를 즉시 다른 명령어의 입력으로 넘기므로 속도가 빠르다.

## 기본 명령어

* at 명령어: 명령어 또는 스크립트 파일이 특정 시간에 실행되도록 *예약*
  - /etc/at.allow, /etc/at.deny 설정을 기반으로 예약 명령어에 대한 권한 부여 가능
  - atd 데몬을 구동 중이어야만 사용 가능 (/etc/init.d/atd)

* chmod 명령어: 파일, 디렉토리, 장치 등의 *권한 변경*
  - '- rwx rwx rwx': 파일 타입, 소유자 퍼미션, 소유자 그룹 퍼미션, 기타 모든 사용자의 퍼미션을 의미함
  - 8진수로 퍼미션 지정 가능: r(4), w(2), x(1) (즉, 7은 rwx, 5는 r-x를 의미함)
  - 기호를 통해 퍼미션 지정 가능: [u(소유자), g(소유자 그룹), o(기타 소유자), a(ugo 전부)]
  - 그 외에도 실행 권한 관련된 기능이 있음: SetUID(s), SetGID(s), StickyBit(t)

* chown 명령어: 파일 *소유자/소유 그룹을 변경*함 (root만 사용 가능)

* cmp 명령어: 파일을 *비교*함, diff와 달리 차이점의 유무만 알려줌

* col 명령어: 텍스트 파일 내 *개행(특수) 문자와 공백 등을 변환*하는 필터 역할을 함
  - 예: '\n\r' --> '\n', ' ' --> '\t' 등

* colcrt 명령어: *밑줄*(_)을 감추거나 변환함

* cp 명령어: 특정 파일을 현재 디렉토리 또는 다른 디렉토리로 *복사*함

* cut 명령어: 텍스트 파일이나 파이프된 결과 중에 *지정된 부분만 표시*함 (텍스트 파일 출력 편집)

* date 명령어: 시스템의 *날짜와 시간*을 알려주거나 설정함

* df 명령어: 파일 시스템의 *디스크 공간*을 표시함

* diff 명령어: 파일을 *비교*함, 차이점을 자세하게 표시함

* domainname 명령어: 운영체제에 설정된 *도메인 이름* 정보를 확인함

* du 명령어: 현재 디렉토리의 *사용량*을 표시함

* echo 명령어: 지정된 문자열을 *출력*함

* find 명령어: 조건에 맞는 *파일을 찾음*

* free 명령어: 운영체제에서 *사용/비사용* 메모리를 보여줌

* ftp 명령어: *FTP(File Transfer Protocol) 서비스*

* ifconfig 명령어: 운영체제의 *네트워크 인터페이스의 설정*을 확인 및 변경함

* grep 명령어: 텍스트 형식으로 된 파일의 내용이나 명령어의 실행 결과를 *특정 문자나 단어로 검색*함
  - 단독으로 사용하면 텍스트 파일 또는 결과의 *특정 문자나 단어가 포함된 행이 출력됨*

* logger 명령어: 운영체제의 *주요 로그 저장 파일(/var/log/messages)에 메시지를 저장*함

* lsof 명령어: list open files 명령어는 시스템에서 *열린 파일 목록*을 알려주고 *사용하는 프로세스, 디바이스 정보, 파일의 종류 등*을 표시함

* netstat 명령어: *현재 시스템에 연결되어 있는 네트워크 연결 상태 및 포트 정보를 표시*함

* nl 명령어: 텍스트 형태의 파일을 읽어 *행 번호를 부여*함

* ntpdate 명령어: 지정된 time 서버로부터 *시간 정보를 동기화*시킴

* ping 명령어

* pmap 명령어

* pr 명령어

* ps 명령어

* pwd 명령어

* route 명령어

* script 명령어

* sort 명령어

* tail 명령어

* tar 명령어

* time 명령어

* touch 명령어

* tr 명령어

* traceroute 명령어

* uptime 명령어

* vmstat 명령어

* w 명령어

## 스트림 편집기 sed
